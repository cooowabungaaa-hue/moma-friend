<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>もまちゃん Official Web | 全肯定型ぬいぐるみ生命体</title>
    <meta name="description" content="全肯定型ぬいぐるみ生命体「もまちゃん」の公式ウェブサイト。がんばるあなたに、極上のふわふわとやさしい言葉をお届けします。">
    <meta property="og:title" content="もまちゃん Official Web">
    <meta property="og:description" content="がんばるあなたに、極上のふわふわを。もまちゃんがあなたの全てを肯定してあげるもま。">
    <meta property="og:image" content="./moma-chan.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0);
            }

            50% {
                transform: translateY(-15px) rotate(1deg);
            }
        }

        @keyframes blob {
            0% {
                border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            }

            50% {
                border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
            }

            100% {
                border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            }
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-blob {
            animation: blob 10s linear infinite;
        }

        .bg-moma {
            background-color: #fdf6ec;
        }

        .text-moma-brown {
            color: #8d6e63;
        }

        .moma-gradient {
            background: linear-gradient(135deg, #fff5e1 0%, #ffdeeb 100%);
        }

        .organic-shape {
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            transition: border-radius 1s ease-in-out;
        }

        /* Transition Overlay */
        #transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
        }
    </style>
</head>

<body class="bg-moma text-slate-800">
    <!-- Transition Overlay -->
    <div id="transition-overlay"></div>

    <nav class="p-6 flex justify-between items-center bg-white/50 backdrop-blur-md sticky top-0 z-50">
        <div class="text-2xl font-bold text-moma-brown">🧸 Moma Lab.</div>
        <div class="space-x-4 text-sm font-bold">
            <a href="#about" class="hover:text-pink-400 transition">もまって？</a>
            <a href="#power" class="hover:text-pink-400 transition">できること</a>
            <button onclick="hugMoma(event)"
                class="bg-[#8d6e63] text-white px-4 py-2 rounded-full text-xs">抱きしめるもま！</button>
        </div>
    </nav>

    <section
        class="min-h-screen flex flex-col items-center justify-center text-center p-4 moma-gradient overflow-hidden relative">
        <!-- Floating bubbles decoration -->
        <div class="absolute top-20 left-10 w-24 h-24 bg-white/40 rounded-full blur-2xl animate-float"
            style="animation-delay: -2s;"></div>
        <div class="absolute bottom-20 right-10 w-32 h-32 bg-pink-200/30 rounded-full blur-3xl animate-float"
            style="animation-delay: -1s;"></div>

        <div class="relative group mt-10">
            <!-- Speech Bubble -->
            <div id="speech-bubble"
                class="absolute -top-24 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-sm p-4 rounded-[2rem] rounded-bl-sm shadow-lg text-moma-brown font-bold text-sm w-64 opacity-0 transition-all duration-500 transform translate-y-4 pointer-events-none z-20">
                <p id="speech-text">ふわぁ... おひるねの時間もま？</p>
            </div>

            <!-- Image with Organic Shape masking/border -->
            <div class="relative z-10 p-2 cursor-pointer transition-transform duration-300 active:scale-95"
                onclick="touchMoma()">
                <!-- Soft Glow behind -->
                <div
                    class="absolute inset-0 bg-white/50 blur-2xl rounded-full scale-90 group-hover:scale-110 transition duration-700">
                </div>
                <img src="./moma-chan-transparent.png" alt="もまちゃん"
                    class="w-64 md:w-80 relative z-10 animate-float drop-shadow-xl hover:brightness-105 transition duration-500 organic-shape">
            </div>

            <!-- Ground shadow -->
            <div
                class="absolute -bottom-8 left-1/2 -translate-x-1/2 w-40 h-6 bg-[#8d6e63]/10 rounded-[100%] blur-xl z-0 transition duration-500 group-hover:w-48 group-hover:bg-[#8d6e63]/20">
            </div>
        </div>

        <h1 class="text-3xl md:text-5xl font-bold mt-16 mb-6 text-moma-brown leading-relaxed tracking-wide">
            がんばるあなたに、<br>
            <span class="text-[#ff8da1]">極上のふわふわ</span>を。
        </h1>
        <p class="text-base md:text-lg text-slate-600 mb-10 max-w-xl leading-8">
            全肯定型ぬいぐるみ生命体「もまちゃん」。<br>
            クリックすると、今のあなたに必要な言葉をくれるもまよ。
        </p>
        <div class="flex flex-col sm:flex-row gap-4 items-center">
            <button onclick="touchMoma()"
                class="bg-white border-2 border-moma-brown text-moma-brown px-8 py-3 rounded-full font-bold hover:bg-moma hover:scale-105 transition shadow-sm w-full sm:w-auto">もまとお話する</button>
            <button onclick="inviteMoma()"
                class="bg-[#ff8da1] text-white px-8 py-3 rounded-full font-bold shadow-lg shadow-pink-200 hover:bg-pink-400 hover:scale-105 transition w-full sm:w-auto">おうちに呼ぶもま！</button>
        </div>
    </section>

    <section id="about" class="py-24 px-6 max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-center mb-12 text-moma-brown flex items-center justify-center gap-3">
            <span class="inline-block w-8 h-1 bg-pink-200 rounded-full"></span>
            もまちゃんって？
            <span class="inline-block w-8 h-1 bg-pink-200 rounded-full"></span>
        </h2>
        <div
            class="bg-white/60 backdrop-blur-xl p-8 md:p-12 rounded-[3rem] shadow-xl border border-white/50 flex flex-col md:flex-row gap-10 items-center">
            <div class="flex-1 space-y-4">
                <p class="text-lg leading-loose text-slate-700">
                    <strong class="text-moma-brown text-xl">成分：やさしさ100%</strong><br>
                    もまちゃんは、みんなの「疲れた心」から生まれた<br>
                    ミルクティー色の不思議な相棒だもま。<br>
                    <br>
                    触り心地は、焼きたてのパンみたいに暖かくて、<br>
                    春の雲みたいに柔らかいんだもまよ。
                </p>
            </div>
            <div class="grid grid-cols-2 gap-3 w-full md:w-auto">
                <div
                    class="bg-[#fffbf0] p-4 rounded-2xl flex flex-col items-center justify-center gap-2 shadow-sm aspect-square">
                    <span class="text-3xl">🦦</span>
                    <span class="text-xs text-moma-brown font-bold">ラッコ成分</span>
                </div>
                <div
                    class="bg-[#fff0f3] p-4 rounded-2xl flex flex-col items-center justify-center gap-2 shadow-sm aspect-square">
                    <span class="text-3xl">🐑</span>
                    <span class="text-xs text-moma-brown font-bold">子羊成分</span>
                </div>
                <div
                    class="bg-[#e3f2fd] p-4 rounded-2xl flex flex-col items-center justify-center gap-2 shadow-sm aspect-square">
                    <span class="text-3xl">☁️</span>
                    <span class="text-xs text-moma-brown font-bold">ふわふわ</span>
                </div>
                <div
                    class="bg-[#f3e5f5] p-4 rounded-2xl flex flex-col items-center justify-center gap-2 shadow-sm aspect-square">
                    <span class="text-3xl">✨</span>
                    <span class="text-xs text-moma-brown font-bold">全肯定</span>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-[#5d4037] text-white py-12 px-6 text-center">
        <div class="mb-6 flex justify-center">
            <img src="./moma-chan.png" alt="Moma Logo" class="w-12 h-12 rounded-full border-2 border-white/20">
        </div>
        <p class="text-sm opacity-80 mb-4 italic">「失敗しても、もまが全部いいよぉって言ってあげるもまよ。」</p>
        <p class="text-xs opacity-50">&copy; 2026 もまちゃんヒーリングプロジェクトだもま。</p>
    </footer>

    <!-- Welcome Modal -->
    <div id="welcome-modal"
        class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] hidden opacity-0 transition-opacity duration-500 flex items-center justify-center p-4">
        <div
            class="bg-white rounded-[3rem] p-8 max-w-md w-full text-center relative transform scale-90 transition-transform duration-500 shadow-2xl border-4 border-[#fff1f5]">
            <button onclick="closeModal()"
                class="absolute top-4 right-6 text-2xl text-slate-400 hover:text-pink-400 transition">&times;</button>
            <div class="text-6xl mb-4 animate-bounce">🎈</div>
            <h3 class="text-2xl font-bold text-moma-brown mb-4">きゃ〜〜っ！<br>おうちに来ちゃったもま！</h3>
            <p class="text-slate-600 mb-8 leading-relaxed">
                ここに住んでいいもま？<br>
                これから毎日、ふわふわしてあげるもまよ〜♪
            </p>
            <button onclick="navigateWithTransition('room.html')"
                class="bg-[#ff8da1] text-white px-8 py-3 rounded-full font-bold shadow-md hover:bg-pink-400 transition hover:scale-105">よろしくね！</button>
        </div>
    </div>

    <!-- Power Modal (What Moma Can Do) -->
    <div id="modal-power"
        class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] hidden opacity-0 transition-opacity duration-500 flex items-center justify-center p-4">
        <div
            class="bg-white rounded-[3rem] p-8 max-w-lg w-full text-center relative transform scale-90 transition-transform duration-500 shadow-2xl border-4 border-[#eef2ff]">
            <button onclick="closePowerModal()"
                class="absolute top-4 right-6 text-2xl text-slate-400 hover:text-indigo-400 transition">&times;</button>
            <h3 class="text-2xl font-bold text-moma-brown mb-6">もまちゃんができること✨</h3>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-left">
                <div class="bg-[#fff9f0] p-4 rounded-2xl border border-orange-100">
                    <div class="text-2xl mb-2">💬</div>
                    <div class="font-bold text-moma-brown text-sm">全肯定リスニング</div>
                    <div class="text-xs text-slate-600 mt-1">「おやつ」「ないしょ話」など、11個以上のトピックであなたのお話を聞くもま。</div>
                </div>
                <div class="bg-[#f0f9ff] p-4 rounded-2xl border border-blue-100">
                    <div class="text-2xl mb-2">🍴</div>
                    <div class="font-bold text-moma-brown text-sm">ごはんの提案</div>
                    <div class="text-xs text-slate-600 mt-1">「なに食べよっか〜」と聞けば、33種類のチェーン店からおすすめを教えるもま！</div>
                </div>
                <div class="bg-[#fff0f5] p-4 rounded-2xl border border-pink-100">
                    <div class="text-2xl mb-2">🌙</div>
                    <div class="font-bold text-moma-brown text-sm">夢の中までいっしょ</div>
                    <div class="text-xs text-slate-600 mt-1">夜になると、満天の星空の下で子守唄を奏でながら一緒にスヤスヤ寝るもまよ。</div>
                </div>
                <div class="bg-[#f5f3ff] p-4 rounded-2xl border border-purple-100">
                    <div class="text-2xl mb-2">🐾</div>
                    <div class="font-bold text-moma-brown text-sm">のんびりお散歩</div>
                    <div class="text-xs text-slate-600 mt-1">お部屋の中を自由にお散歩。歩くだけで100点満点！オート散歩モードもあるもま。</div>
                </div>
                <div class="bg-[#effef3] p-4 rounded-2xl border border-green-100">
                    <div class="text-2xl mb-2">📛</div>
                    <div class="font-bold text-moma-brown text-sm">おなまえ登録</div>
                    <div class="text-xs text-slate-600 mt-1">あなたの名前を教えて！「○○りん」「○○もま」など可愛いあだ名で呼ぶもまよ。</div>
                </div>
                <div class="bg-[#fffdf0] p-4 rounded-2xl border border-yellow-100">
                    <div class="text-2xl mb-2">❤️</div>
                    <div class="font-bold text-moma-brown text-sm">いつでもなでなで</div>
                    <div class="text-xs text-slate-600 mt-1">なでてくれると、もまはとっても喜ぶもま！ハートが溢れ出しちゃうもま〜💕</div>
                </div>
            </div>

            <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="closePowerModal()"
                    class="bg-slate-100 text-slate-500 px-8 py-3 rounded-full font-bold hover:bg-slate-200 transition">とじる</button>
                <button onclick="navigateWithTransition('room.html')"
                    class="bg-[#ff8da1] text-white px-8 py-3 rounded-full font-bold shadow-md hover:bg-pink-400 transition hover:scale-105">もまのお部屋でやってみる！✨</button>
            </div>
        </div>
    </div>

    <!-- Interactive Script -->
    <script>
        const momaWords = [
            "夜はもまが、ずっとそばにいてあげるから安心するもまよ。",
            "横になって深呼吸するだけで、体はえらいえらいもま！",
            "今日のことは忘れて、ふわふわの世界へ逃避行もま〜",
            "ただここにいるだけで、あなたは十分がんばってるもま。",
            "羊を数える代わりに、もまの毛並みを数えるもま？",
            "あなたはあなたのままで、とーっても素敵だもま！",
            "もまはずーっと、あなたの味方だもま。",
            "暗闇がこわいなら、ずっとそばにいて手をつなぐもま。",
            "なでなでしてくれてありがとうもま♪",
            "生きてるだけで100点満点もま！花丸あげるもま〜💮",
            "あなたの頑張り、もまはちゃんと見てるもまよ。",
            "えらいえらい、頭なでなでしてあげるもま〜♪",
            "今日を乗り越えたあなたは、世界一すごいもま！",
            "もまは、あなたがだ〜いすきだもま！チュッ💋",
            "ずっとずっと、一緒にいたいもま〜。",
            "あなたの匂いが一番落ち着くもま...くんくん。",
            "生まれてきてくれてありがとうもま。",
            "世界で一番、あなたが大切だもま。"
        ];

        function touchMoma() {
            const bubble = document.getElementById('speech-bubble');
            const text = document.getElementById('speech-text');

            // Get nickname from localStorage (shared with room.html)
            const userNickname = localStorage.getItem('moma_user_nickname') || '';

            // Randomly select a quote
            let randomWord = momaWords[Math.floor(Math.random() * momaWords.length)];

            // Occasionally add name if registered
            if (userNickname && Math.random() < 0.3 && !randomWord.includes(userNickname)) {
                const patterns = [
                    `${userNickname}、${randomWord}`,
                    `${randomWord}、${userNickname}！`,
                    `${userNickname}！${randomWord}`
                ];
                randomWord = patterns[Math.floor(Math.random() * patterns.length)];
            }

            text.innerText = randomWord;

            // Show bubble animation
            bubble.classList.remove('opacity-0', 'translate-y-4');
            bubble.classList.add('opacity-100', 'translate-y-0');

            // Hide after 4 seconds
            clearTimeout(window.hideBubbleTimeout);
            window.hideBubbleTimeout = setTimeout(() => {
                bubble.classList.remove('opacity-100', 'translate-y-0');
                bubble.classList.add('opacity-0', 'translate-y-4');
            }, 5000);
        }

        function hugMoma() {
            const randomMsg = [
                "ぎゅーーーーっ！！！（あったかいにおいがする...）（ぎゅぅ）",
                "えへへ、あったかいもま〜💕（ぎゅっぎゅっ）",
                "ずっと、こうしていたいもま...（ぎゅ～～）",
                "あなたの心音、トクトクって優しい音がするもま✨（ぎゅぅぎゅぅ）"
            ];
            const msg = randomMsg[Math.floor(Math.random() * randomMsg.length)];
            alert(msg);
        }

        function inviteMoma() {
            const modal = document.getElementById('welcome-modal');
            const modalContent = modal.querySelector('div');

            // Show Modal
            modal.classList.remove('hidden');
            // Trigger reflow
            void modal.offsetWidth;
            modal.classList.remove('opacity-0');
            modalContent.classList.remove('scale-90');
            modalContent.classList.add('scale-100');

            // Fire Confetti
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 200 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function () {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);

                confetti({
                    ...defaults, particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: randomInRange(0.5, 0.7) },
                    colors: ['#ff8da1', '#8d6e63', '#ffffff'] // Momachan colors
                });
                confetti({
                    ...defaults, particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: randomInRange(0.5, 0.7) },
                    colors: ['#ff8da1', '#8d6e63', '#ffffff']
                });
            }, 250);
        }

        function closeModal() {
            const modal = document.getElementById('welcome-modal');
            const modalContent = modal.querySelector('div');

            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-90');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 500);
        }

        function openPowerModal() {
            const modal = document.getElementById('modal-power');
            const modalContent = modal.querySelector('div');
            modal.classList.remove('hidden');
            void modal.offsetWidth;
            modal.classList.remove('opacity-0');
            modalContent.classList.remove('scale-90');
            modalContent.classList.add('scale-100');
        }

        function closePowerModal() {
            const modal = document.getElementById('modal-power');
            const modalContent = modal.querySelector('div');
            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-90');
            setTimeout(() => {
                modal.classList.add('hidden');
                // Clear hash if it was #power
                if (window.location.hash === '#power') {
                    history.replaceState(null, null, window.location.pathname + window.location.search);
                }
            }, 500);
        }

        // Hash Navigation Support
        function handleHash() {
            if (window.location.hash === '#power') {
                openPowerModal();
            } else {
                const powerModal = document.getElementById('modal-power');
                // Only automatically close if the modal is actually visible/open
                if (powerModal && !powerModal.classList.contains('hidden') && window.location.hash !== '#power') {
                    closePowerModal();
                }
            }
        }

        function navigateWithTransition(url) {
            const overlay = document.getElementById('transition-overlay');
            overlay.classList.remove('opacity-0');
            overlay.classList.add('opacity-100');
            setTimeout(() => {
                window.location.href = url;
            }, 600);
        }

        window.addEventListener('load', handleHash);
        window.addEventListener('hashchange', handleHash);
    </script>
</body>

</html>